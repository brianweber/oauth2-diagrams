<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="617px" preserveAspectRatio="none" style="width:1000px;height:617px;background:#FFFFFF;" version="1.1" viewBox="0 0 1000 617" width="1000px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="605.5679" style="stroke:#181818;stroke-width:0.5;" width="549" x="195.25" y="6"/><rect fill="none" height="290.1782" style="stroke:#000000;stroke-width:1.5;" width="963.75" x="30.25" y="193.2539"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="135.25" x2="135.25" y1="108.1358" y2="507.4321"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="280.75" x2="280.75" y1="108.1358" y2="507.4321"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="458.25" x2="458.25" y1="108.1358" y2="507.4321"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="647.25" x2="647.25" y1="108.1358" y2="507.4321"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="863.75" x2="863.75" y1="108.1358" y2="507.4321"/><rect fill="#E2E2F0" height="71.2038" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="81.25" y="35.9321"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="91.25" y="57.898">Relying Party</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="88.25" y="76.9659">(OAuth Client)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="103.25" y="96.0339">https://rp</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="163" x="199.25" y="55"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="206.25" y="76.9659">User Agent / Frontend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="225.25" y="96.0339">for Relying Party</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="439.75" y="84.9659">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="372.25" y="104.0339">(OAuth Resource Owner)</text><ellipse cx="458.25" cy="18.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M458.25,26.5 L458.25,53.5 M445.25,34.5 L471.25,34.5 M458.25,53.5 L445.25,68.5 M458.25,53.5 L471.25,68.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="186" x="554.25" y="55"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="561.25" y="76.9659">User Agent / Frontend for</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="591.25" y="96.0339">OpenID Provider</text><rect fill="#E2E2F0" height="71.2038" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="207" x="760.25" y="35.9321"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="807.75" y="57.898">OpenID Provider</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193" x="767.25" y="76.9659">(OAuth Authorization Server)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="830.75" y="96.0339">https://op</text><rect fill="#E2E2F0" height="71.2038" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="81.25" y="507.4321"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="91.25" y="529.398">Relying Party</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="88.25" y="548.466">(OAuth Client)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="103.25" y="567.5339">https://rp</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="163" x="199.25" y="507.4321"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="206.25" y="529.398">User Agent / Frontend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="225.25" y="548.466">for Relying Party</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="439.75" y="582.398">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="372.25" y="601.466">(OAuth Resource Owner)</text><ellipse cx="458.25" cy="515.9321" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M458.25,523.9321 L458.25,550.9321 M445.25,531.9321 L471.25,531.9321 M458.25,550.9321 L445.25,565.9321 M458.25,550.9321 L471.25,565.9321 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="186" x="554.25" y="507.4321"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="561.25" y="529.398">User Agent / Frontend for</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="591.25" y="548.466">OpenID Provider</text><rect fill="#E2E2F0" height="71.2038" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="207" x="760.25" y="507.4321"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="807.75" y="529.398">OpenID Provider</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193" x="767.25" y="548.466">(OAuth Authorization Server)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="830.75" y="567.5339">https://op</text><path d="M603,121.1358 L603,184.1358 L908,184.1358 L908,131.1358 L898,121.1358 L603,121.1358 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M898,121.1358 L898,131.1358 L908,131.1358 L898,121.1358 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="609" y="140.0328">Relevant OP Metadata</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="609" y="157.7389">"backchannel_logout_supported": true,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="609" y="175.4449">"backchannel_logout_session_supported": true,</text><path d="M10,121.1358 L10,184.1358 L406,184.1358 L406,131.1358 L396,121.1358 L10,121.1358 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M396,121.1358 L396,131.1358 L406,131.1358 L396,121.1358 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="16" y="140.0328">Relevant RP Registration</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="375" x="16" y="157.7389">"backchannel_logout_uri": "https://client/backchannel_logout",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="16" y="175.4449">"backchannel_logout_session_required": true,</text><path d="M30.25,193.2539 L131.25,193.2539 L131.25,202.9599 L121.25,212.9599 L30.25,212.9599 L30.25,193.2539 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="290.1782" style="stroke:#000000;stroke-width:1.5;" width="963.75" x="30.25" y="193.2539"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="53" x="45.25" y="208.1509">par loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="123" x="146.25" y="207.0128">[for all relying parties]</text><polygon fill="#181818" points="146.25,278.0779,136.25,282.0779,146.25,286.0779,142.25,282.0779" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="140.25" x2="862.75" y1="282.0779" y2="282.0779"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="197" x="152.25" y="240.8569">Back-Channel Logout Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="354" x="152.25" y="258.5629">HTTPS POST https://client/backchannel_logout, urlencoded</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="152.25" y="276.2689">logout_token=eyJ… (JWT)</text><polygon fill="#FEFFDD" points="61.25,349.196,209.25,349.196,219.25,370.196,209.25,392.196,61.25,392.196,51.25,370.196,61.25,349.196" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="63.25" y="367.093">Logout token validation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="63.25" y="384.799">Invalidate session(s)</text><path d="M538,295.0779 L538,446.0779 L973,446.0779 L973,305.0779 L963,295.0779 L538,295.0779 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M963,295.0779 L963,305.0779 L973,305.0779 L963,295.0779 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330" x="544" y="313.975">Logout Token is a JWT of "typ":"logout+jwt" with claims:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="544" y="331.681">"iss": "https://op",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="544" y="349.387">"sub": "SUB-XXXX"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="544" y="367.093">"aud": "CID-XXXX",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="544" y="384.799">"iat": …</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="544" y="402.505">"jti": …</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="414" x="544" y="420.2111">"events": {"http://schemas.openid.net/event/backchannel-logout": {}}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="544" y="437.9171">"sid": "SID-XXXX"</text><polygon fill="#181818" points="851.75,471.4321,861.75,475.4321,851.75,479.4321,855.75,475.4321" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="135.25" x2="857.75" y1="475.4321" y2="475.4321"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="142.25" y="469.6231">HTTPS 200</text><!--MD5=[e1ca280683cab6f58e2af689c0b85760]
@startuml

!pragma teoz true

participant "Relying Party\n(OAuth Client)\nhttps://rp" as client
box
    participant "User Agent / Frontend\nfor Relying Party" as uac
    actor "User\n(OAuth Resource Owner)" as user
    participant "User Agent / Frontend for\nOpenID Provider" as uaas
end box
participant "OpenID Provider\n(OAuth Authorization Server)\nhttps://op" as as

note over as, uaas:Relevant OP Metadata\n"backchannel_logout_supported": true,\n"backchannel_logout_session_supported": true,

& note over uac, client:Relevant RP Registration\n"backchannel_logout_uri": "https://client/backchannel_logout",\n"backchannel_logout_session_required": true,

group par loop [for all relying parties]

as -> client: **Back-Channel Logout Request**\nHTTPS POST https://client/backchannel_logout, urlencoded\nlogout_token=eyJ… (JWT)

hnote over client: Logout token validation\nInvalidate session(s)
&note over uaas, as: Logout Token is a JWT of "typ":"logout+jwt" with claims:\n"iss": "https://op",\n"sub": "SUB-XXXX"\n"aud": "CID-XXXX",\n"iat": …\n"jti": …\n"events": {"http://schemas.openid.net/event/backchannel-logout": {}}\n"sid": "SID-XXXX"

client - -> as: HTTPS 200

end

@enduml

PlantUML version 1.2022.13(Sat Nov 19 14:22:17 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: fr
Country: FR
--></g></svg>