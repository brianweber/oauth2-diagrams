<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="525px" preserveAspectRatio="none" style="width:597px;height:525px;background:#FFFFFF;" version="1.1" viewBox="0 0 597 525" width="597px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="114.5301" style="stroke:#000000;stroke-width:1.5;" width="359" x="39" y="70.1358"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="55" x2="55" y1="58.1358" y2="467.4321"/><rect fill="#FFFFFF" height="137.9421" style="stroke:#181818;stroke-width:1.0;" width="10" x="50" y="275.784"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="382" x2="382" y1="58.1358" y2="467.4321"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="529.5" x2="529.5" y1="58.1358" y2="467.4321"/><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="35.5" y="26.9659">Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="12" y="46.0339">https://client</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="306" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="313" y="26.9659">Authorization Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="350" y="46.0339">https://as</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="468" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="475" y="26.9659">Resource Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="498.5" y="46.0339">https://rs</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="5" y="467.4321"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="35.5" y="489.398">Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="12" y="508.466">https://client</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="306" y="467.4321"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="313" y="489.398">Authorization Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="350" y="508.466">https://as</text><rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="468" y="467.4321"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="475" y="489.398">Resource Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="498.5" y="508.466">https://rs</text><path d="M39,70.1358 L106,70.1358 L106,79.8419 L96,89.8419 L39,89.8419 L39,70.1358 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="114.5301" style="stroke:#000000;stroke-width:1.5;" width="359" x="39" y="70.1358"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="54" y="85.0328">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="199" x="121" y="83.8947">[Initiated by Authorization Request]</text><polygon fill="#181818" points="370,172.6659,380,176.6659,370,180.6659,374,176.6659" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="55" x2="376" y1="176.6659" y2="176.6659"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="297" x="62" y="117.7389">Authorization Request Using Client Discovery</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="10" x="62" y="135.4449">…</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="62" y="153.1509">&amp;client_id=https://client</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="62" y="170.8569">&amp;client_discovery=true</text><polygon fill="#FEFFDD" points="285.5,203.6659,478.5,203.6659,488.5,215.6659,478.5,228.6659,285.5,228.6659,275.5,215.6659,285.5,203.6659" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="287.5" y="221.5629">Start discovery for https://client</text><polygon fill="#181818" points="71,271.784,61,275.784,71,279.784,67,275.784" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="65" x2="381" y1="275.784" y2="275.784"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="163" x="77" y="252.2689">Client Metadata Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298" x="77" y="269.975">HTTPS GET https://client/.well-known/oauth-client</text><polygon fill="#181818" points="370,409.7261,380,413.7261,370,417.7261,374,413.7261" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="60" x2="376" y1="413.7261" y2="413.7261"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="171" x="67" y="301.681">Client Metadata Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="67" y="319.387">HTTPS 200, JSON</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="67" y="337.093">"client_uri": "https://client",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="67" y="354.799">"client_name": "ClientFoo",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240" x="67" y="372.505">"redirect_uris": ["https://client/callback"],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="67" y="390.2111">"logo_uri": "https://client/logo.png",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="67" y="407.9171">"jwks_uri": "https://client/public.jwks",</text><polygon fill="#FEFFDD" points="283.5,426.7261,480.5,426.7261,490.5,438.7261,480.5,451.7261,283.5,451.7261,273.5,438.7261,283.5,426.7261" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="285.5" y="444.6231">Check client_uri = "https://client"</text><!--MD5=[de97ccbf9225ad91fb0985c8d53c4be7]
@startuml

!pragma teoz true

participant "Client\nhttps://client" as client
participant "Authorization Server\nhttps://as" as as
participant "Resource Server\nhttps://rs" as rs

opt Initiated by Authorization Request

client -> as: **Authorization Request Using Client Discovery**\n…\n&client_id=https://client\n&client_discovery=true

end

hnote over as: Start discovery for https://client

as -> client ++: **Client Metadata Request**\nHTTPS GET https://client/.well-known/oauth-client

client - -> as - -: **Client Metadata Response**\nHTTPS 200, JSON\n"client_uri": "https://client",\n"client_name": "ClientFoo",\n"redirect_uris": ["https://client/callback"],\n"logo_uri": "https://client/logo.png",\n"jwks_uri": "https://client/public.jwks",

hnote over as: Check client_uri = "https://client"

@enduml

PlantUML version 1.2022.13(Sat Nov 19 14:22:17 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: fr
Country: FR
--></g></svg>